import"../chunks/DsnmJJEf.js";import{a_ as qt,a$ as xt,aK as zt,w as St,x as U,y as Dt,V as Ct,C as Nt,W as Wt,Y as Lt,G as $t,X as It,_ as Mt,aW as q,J as Qt,M as g,p as u,$ as N,a0 as _,a4 as d,a3 as v,aZ as st,a5 as M,a2 as A,ar as ot,as as it,a1 as R,aO as Ut,u as Et,t as Ot,at as J}from"../chunks/CgILiVKu.js";import{w as jt,d as K,a as I,g as ct}from"../chunks/DndeRVEc.js";import{i as j}from"../chunks/CryR0QM2.js";import{t as Rt,c as x,s as Ft}from"../chunks/DrpDtrq_.js";import{r as Ht,l as Kt,t as P,f as X}from"../chunks/BVq1TIPk.js";import{b as Tt}from"../chunks/ra3zGsGZ.js";import{b as T,a as lt,s as ut}from"../chunks/C5DHaf2-.js";import"../chunks/Byk2WNdG.js";import{e as dt,i as vt,u as mt}from"../chunks/3_l3AL8U.js";import{s as tt,c as ft}from"../chunks/P63CtktF.js";import{g as Gt,f as Vt}from"../chunks/hEphNI4c.js";function Yt(e,t,r){U&&Dt();var n=e,o=It,a,i,s=null,c=qt()?xt:zt;function f(){a&&Mt(a),s!==null&&(s.lastChild.remove(),n.before(s),s=null),a=i}St(()=>{if(c(o,o=t())){var l=n,m=Lt();m&&(s=document.createDocumentFragment(),s.append(l=Ct())),i=Nt(()=>r(l)),m?Wt.add_callback(f):f()}}),U&&(n=$t)}function z(e,t,r,n,o,a){var i=e.__className;if(U||i!==r||i===void 0){var s=Rt(r,n);(!U||s!==e.getAttribute("class"))&&(s==null?e.removeAttribute("class"):e.className=s),e.__className=r}return a}function Zt(e){return e}function Bt(e){return e*e*e}function et(e){const t=e-1;return t*t*t+1}function rt(e){return Object.prototype.toString.call(e)==="[object Date]"}function F(e,t){if(e===t||e!==e)return()=>e;const r=typeof e;if(r!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const n=t.map((o,a)=>F(e[a],o));return o=>n.map(a=>a(o))}if(r==="object"){if(!e||!t)throw new Error("Object cannot be null");if(rt(e)&&rt(t)){const a=e.getTime(),s=t.getTime()-a;return c=>new Date(a+c*s)}const n=Object.keys(t),o={};return n.forEach(a=>{o[a]=F(e[a],t[a])}),a=>{const i={};return n.forEach(s=>{i[s]=o[s](a)}),i}}if(r==="number"){const n=t-e;return o=>e+o*n}return()=>t}class G{#t;#r;#n;#e=null;constructor(t,r={}){this.#t=q(t),this.#r=q(t),this.#n=r}static of(t,r){const n=new G(t(),r);return Qt(()=>{n.set(t())}),n}set(t,r){g(this.#r,t);let{delay:n=0,duration:o=400,easing:a=Zt,interpolate:i=F}={...this.#n,...r};if(o===0)return this.#e?.abort(),g(this.#t,t),Promise.resolve();const s=Ht.now()+n;let c,f=!1,l=this.#e;return this.#e=Kt(m=>{if(m<s)return!0;if(!f){f=!0;const y=this.#t.v;c=i(y,t),typeof o=="function"&&(o=o(y,t)),l?.abort()}const h=m-s;return h>o?(g(this.#t,t),!1):(g(this.#t,c(a(h/o))),!0)}),this.#e.promise}get current(){return u(this.#t)}get target(){return u(this.#r)}set target(t){this.set(t)}}const Q=jt("normal");var Jt=(e,t)=>T(Q,"normal"),Pt=(e,t)=>T(Q,"medium"),Xt=(e,t)=>T(Q,"hard"),te=N(`<div id="welcome" class="svelte-l1ht4y"><h1 class="svelte-l1ht4y">&#x1F389;Welcome to the Quiz!&#x1F389;</h1> <p class="svelte-l1ht4y">Test your knowledge about our feline friends</p> <h2>Select level and get started</h2> <div id="levels" class="svelte-l1ht4y"><button>Normal</button> <button>Medium</button> <button>Hard</button></div> <div id="note" class="svelte-l1ht4y"><p class="svelte-l1ht4y"><strong>Note:</strong> Questions will be based on the cats available in pawland. We recommend
			checking out <a href="/gallery/" class="svelte-l1ht4y">our Gallery</a> if you haven't already.</p></div></div>`);function ee(e){const t=()=>lt(Q,"$selectedLevel",r),[r,n]=ut();var o=te(),a=_(d(o),6),i=d(a);i.__click=[Jt,t];var s=_(i,2);s.__click=[Pt,t];var c=_(s,2);c.__click=[Xt,t],v(a),st(2),v(o),M(()=>{z(i,1,x(t()==="normal"?"selected normal":""),"svelte-l1ht4y"),z(s,1,x(t()==="medium"?"selected medium":""),"svelte-l1ht4y"),z(c,1,x(t()==="hard"?"selected hard":""),"svelte-l1ht4y")}),A(e,o),n()}K(["click"]);const E=[];function re(e,t,r){E.push({question:e,correct:t,userSelect:r}),console.log("In Validator",E)}var ne=(e,t,r)=>g(t,r.quizData.correctAnswer,!0),ae=(e,t,r)=>g(t,u(r),!0),se=N("<button> </button>"),oe=(e,t)=>t(),ie=N('<div id="questionContainer"><div id="imageContainer" class="svelte-m9oylu"><img class="svelte-m9oylu"/></div> <h2> </h2> <div id="option" class="svelte-m9oylu"><button> </button> <!></div> <button id="confirm" class="svelte-m9oylu">Confirm</button></div>');function ce(e,t){ot(t,!0);let r=q(""),n=q(!1);function o(){re(t.quizData.question,t.quizData.correctAnswer,u(r)),g(n,!u(n))}var a=ie(),i=d(a),s=d(i);v(i);var c=_(i,2),f=d(c,!0);v(c);var l=_(c,2),m=d(l);m.__click=[ne,r,t];var h=d(m,!0);v(m);var y=_(m,2);dt(y,17,()=>t.quizData.wrongAnswers,vt,(w,k)=>{var p=se();p.__click=[ae,r,k];var W=d(p,!0);v(p),M(()=>{z(p,1,x(u(r)===u(k)?"selected":""),"svelte-m9oylu"),I(W,u(k))}),A(w,p)}),v(l);var S=_(l,2);S.__click=[oe,o],v(a),M(()=>{tt(s,"src",t.quizData.imgUrl??mt),tt(s,"alt",t.quizData.correctAnswer),I(f,t.quizData.question),z(m,1,x(u(r)===t.quizData.correctAnswer?"selected":""),"svelte-m9oylu"),I(h,t.quizData.correctAnswer),S.disabled=u(n)}),A(e,a),it()}K(["click"]);var le=N('<div class="question svelte-y63k53"><p class="svelte-y63k53"><strong> </strong></p></div> <div class="correct"><p class="svelte-y63k53">Correct Answer: <strong> </strong></p></div> <div class="selected"><p class="svelte-y63k53">You selected: <strong> </strong></p></div>',1),ue=N('<div id="ansContainer" class="svelte-y63k53"><h1>Result</h1> <!> <a href="/gallery/" class="svelte-y63k53">Back to gallery</a></div>');function de(e){console.log("in validar",E);var t=ue(),r=_(d(t),2);dt(r,1,()=>E,vt,(n,o)=>{var a=le(),i=R(a),s=d(i),c=d(s),f=d(c,!0);v(c),v(s),v(i);var l=_(i,2),m=d(l),h=_(d(m)),y=d(h,!0);v(h),v(m),v(l);var S=_(l,2),w=d(S),k=_(d(w)),p=d(k,!0);v(k),v(w),v(S),M(()=>{I(f,u(o).question),I(y,u(o).correct),I(p,u(o).userSelect)}),A(n,a)}),st(2),v(t),A(e,t)}let H=q(0);function nt(){g(H,u(H)+1)}function C(){return u(H)}const V=ct(ft),ve=V.length;function _t(){return Math.floor(Math.random()*ve)}function me(e){const t=new Set;for(;t.size<e;)t.add(_t());return Array.from(t)}function fe(){const e=me(5);return e.map((t,r)=>V[e[r]])}function _e(e){const t=new Set;for(;t.size<3;){const r=V[_t()];r.id!==e&&t.add(r)}return Array.from(t)}function he(e){const t=[],r=fe();for(let n=0;n<5;n++){const o=r[n],a=_e(o.id);t.push({correct:o,wrong:a})}return console.log("test called with ",e,t),t}const ge=ct(ft),ye=new Set(["name","origin","country_code"]),pe=new Set(["name","country_code"]),be=new Set(["country_code"]);function we(e,t="normal"){const r=t==="normal"?ye:t==="medium"?pe:be,n=Gt(e).filter(o=>!r.has(o));for(;r.size<5;)r.add(n[Math.floor(Math.random()*n.length)]);return console.log(n),Array.from(r)}function at(e,t,r){const n=t.correct,o=t.wrong,a=e[r];let i="",s="",c=[];const f=n.image?.url??mt;switch(a){case"name":i="What is the name of this cat ?",s=n.name,c=o.map(l=>l.name);break;case"origin":i=`What is the origin of ${n.name} ?`,s=n.origin,c=o.map(l=>l.origin);break;case"country_code":i=`What is the country code of ${n.name} ?`,s=n.country_code,c=o.map(l=>l.country_code);break;case"temperament":i=`What is the temperament of ${n.name} ?`,s=n.temperament,c=o.map(l=>l.temperament);break;default:i=`What is the ${Vt(a)} of ${n.name} ?`,s=String(n[a]??"Unknown"),c=o.map(l=>String(l[a]??"Unknown"));break}for(c=c.filter(l=>l!==s);c.length<3;){const l=ge.filter(y=>y[a]?.toString()!==s),m=Math.floor(Math.random()*l.length),h=String(l[m][a]??"Unknown");c.push(h)}return{question:i,correctAnswer:s,imgUrl:f,wrongAnswers:c}}function ke(e,t){g(t,!0)}var Ae=N("<div><!></div>"),qe=N('<div id="quizContainer" class="svelte-1eaotym"><!> <button>Start Quiz</button> <button>Next</button> <button>Submit</button></div>');function Ue(e,t){ot(t,!0);const r=()=>lt(Q,"$selectedLevel",n),[n,o]=ut();let a,i=q(!1),s=q(!1),c=[],f=q(Ut({question:"",correctAnswer:"",imgUrl:"",wrongAnswers:[]}));function l(){a=he(r()),g(i,!0),nt();let b=C()-1;return console.log("data in page:",a),c=we(a[0].correct,r()),g(f,at(c,a[b],b),!0),"nothing"}function m(){nt();let b=C()-1;g(f,at(c,a[b],b),!0)}let h;const y=new G(0,{duration:500,easing:et});async function S(){await Ot(),h&&y.set(h.scrollHeight)}Et(()=>{C(),S()});var w=qe(),k=d(w);Yt(k,()=>C()+"-"+u(s),b=>{var D=Ae(),ht=d(D);{var gt=L=>{ee(L)},yt=L=>{var Z=J(),pt=R(Z);{var bt=$=>{de($)},wt=$=>{var B=J(),kt=R(B);{var At=O=>{ce(O,{get quizData(){return u(f)}})};j(kt,O=>{u(i)&&!u(s)&&O(At)},!0)}A($,B)};j(pt,$=>{u(s)?$(bt):$(wt,!1)},!0)}A(L,Z)};j(ht,L=>{C()===0?L(gt):L(yt,!1)})}v(D),P(1,D,()=>X,()=>({y:100,duration:2e3,easing:et})),P(2,D,()=>X,()=>({y:-100,duration:500,easing:Bt})),A(b,D)});var p=_(k,2);p.__click=l;var W=_(p,2);W.__click=m;var Y=_(W,2);Y.__click=[ke,s],v(w),Tt(w,b=>h=b,()=>h),M((b,D)=>{Ft(w,`max-height: ${y.current+"px"};`),z(p,1,x(u(i)?"used":"start-btn"),"svelte-1eaotym"),z(W,1,x(u(i)?"current":"unused"),"svelte-1eaotym"),W.disabled=b,z(Y,1,D,"svelte-1eaotym")},[()=>C()===5,()=>x(!u(s)&&C()===5?"visible":"none")]),A(e,w),it(),o()}K(["click"]);export{Ue as component};
